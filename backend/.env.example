# ============================================
# LVCampusConnect System - Backend Configuration
# ============================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control!

# ============================================
# Server Configuration
# ============================================
# PORT: Backend server port
# Default: 5000
# NOTE: macOS users may need to use port 5001 due to AirPlay Receiver conflict on port 5000
#       If you encounter port 5000 errors on macOS, set PORT=5001 in your local .env file
PORT=5000
NODE_ENV=development

# ============================================
# MongoDB Configuration
# ============================================
# Get your MongoDB Atlas connection string from:
# https://cloud.mongodb.com/
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/lvcampusconnect?retryWrites=true&w=majority

# ============================================
# Google OAuth Configuration
# ============================================
# Get these from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials
#
# Steps:
# 1. Create a new OAuth 2.0 Client ID
# 2. Add authorized JavaScript origins:
#    - http://localhost:5173 (development)
#    - https://lv-campus-connect.pages.dev (production)
# 3. Add authorized redirect URIs:
#    - http://localhost:5173 (development)
#    - https://lv-campus-connect.pages.dev (production)
# 4. Copy the Client ID and Client Secret below

GOOGLE_CLIENT_ID=your_google_client_id_here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# ============================================
# JWT Configuration
# ============================================
# Generate a secure random string for JWT_SECRET:
# Run: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# JWT_SECRET should be at least 32 characters long
# NEVER share or commit this secret!

JWT_SECRET=your_super_secret_jwt_key_min_32_characters_long_random_string_here
JWT_EXPIRES_IN=1h

# ============================================
# CORS Configuration
# ============================================
# Frontend URLs that are allowed to access the backend

CLOUD_FRONTEND_URL=https://lv-campus-connect.pages.dev
LOCAL_FRONTEND_URL=http://localhost:5173
FRONTEND_URL=https://lv-campus-connect.pages.dev

# ============================================
# Rate Limiting Configuration
# ============================================
# Development: Relaxed (1000 requests per 15 minutes)
# Production: Strict (100 requests per 15 minutes)

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ============================================
# Security Configuration
# ============================================
BCRYPT_SALT_ROUNDS=10

# ============================================
# Development Flags
# ============================================
# WARNING: Set to 'false' in production!
DEV_BYPASS_AUTH=false

# ============================================
# Cloudinary Configuration
# ============================================
# For bulletin image uploads
# Get these from: https://cloudinary.com/console

CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
CLOUDINARY_UPLOAD_FOLDER=lvcampusconnect/bulletin

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=debug
LOG_FILE=./logs/app.log

# ============================================
# DEPLOYMENT NOTES:
# ============================================
#
# DEVELOPMENT (Local):
#   - Use this .env file
#   - PORT=5000, NODE_ENV=development
#   - DEV_BYPASS_AUTH=false (now using Google SSO)
#   - RATE_LIMIT_MAX_REQUESTS=1000
#
# PRODUCTION (Render/Cloud):
#   - Set environment variables in hosting dashboard
#   - PORT=5000, NODE_ENV=production
#   - DEV_BYPASS_AUTH=false
#   - RATE_LIMIT_MAX_REQUESTS=100
#   - Use strong JWT_SECRET
#
# KIOSK (Local Machine):
#   - Same as development
#   - Connects to same MongoDB as cloud
#   - Handles thermal printing locally
#

